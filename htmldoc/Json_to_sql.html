<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf8" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Json_to_type.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Type" rel="Chapter" href="Type.html">
<link title="Json_to_json" rel="Chapter" href="Json_to_json.html">
<link title="Json_to_xml" rel="Chapter" href="Json_to_xml.html">
<link title="Infer_type" rel="Chapter" href="Infer_type.html">
<link title="Json_to_type" rel="Chapter" href="Json_to_type.html">
<link title="Json_to_sql" rel="Chapter" href="Json_to_sql.html"><title>Json_to_sql</title>
</head>
<body>
<div class="navbar"><a href="Json_to_type.html">Previous</a>
&nbsp;<a href="index.html">Up</a>
&nbsp;</div>
<center><h1>Module <a href="type_Json_to_sql.html">Json_to_sql</a></h1></center>
<br>
<pre><span class="keyword">module</span> Json_to_sql: <code class="code">sig</code> <a href="Json_to_sql.html">..</a> <code class="code">end</code></pre>Permet de tranformer une chaine json en ast puis de transformer cet ast en sql<br>
<hr width="100%">
<pre><span class="keyword">module</span> <a href="Json_to_sql.JsonTypeMap.html">JsonTypeMap</a>: <code class="type">Map.Make</code><code class="code">(</code><code class="code">sig</code><div class="sig_block"><pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = <code class="type"><a href="Infer_type.html#TYPEjson_type">Infer_type.json_type</a></code> </pre>

<pre><span id="VALcompare"><span class="keyword">val</span> <a href="code_VALJson_to_sql.JsonTypeMap.compare.html">compare</a></span> : <code class="type">'a -> 'a -> int</code></pre></div><code class="code">end</code><code class="code">)</code></pre><div class="info">
Est utilisé pour définir l'association entre un json_type et un nom de table
</div>
<pre><span id="TYPEassociationTypeTable"><span class="keyword">type</span> <code class="type"></code>associationTypeTable</span> = <code class="type">int Infer_type.StringMap.t * (string * int) JsonTypeMap.t</code> </pre>
<div class="info">
Association entre les json_type et les noms de table<br>
</div>

<pre><span id="VALemptyAssociationTypeTable"><span class="keyword">val</span> <a href="code_VALJson_to_sql.emptyAssociationTypeTable.html">emptyAssociationTypeTable</a></span> : <code class="type">'a Infer_type.StringMap.t * 'b JsonTypeMap.t</code></pre><div class="info">
AssociationTypeTable vide<br>
</div>
<pre><span id="EXCEPTIONOn_ne_doit_pas_appeler_cette_fonction_dans_ce_cas"><span class="keyword">exception</span> On_ne_doit_pas_appeler_cette_fonction_dans_ce_cas</span></pre>
<div class="info">
Exception levé lorsqu'on est dans un cas d'un match qui n'est pas géré mais aussi n'est utilisé nulle part<br>
</div>
<pre><span id="VALsmap"><span class="keyword">val</span> <a href="code_VALJson_to_sql.smap.html">smap</a></span> : <code class="type">(char -> char) -> string -> string</code></pre><div class="info">
Applique f aux caractères de s<br>
</div>
<pre><span id="VALstringUnderscoreOfSpace"><span class="keyword">val</span> <a href="code_VALJson_to_sql.stringUnderscoreOfSpace.html">stringUnderscoreOfSpace</a></span> : <code class="type">string -> string</code></pre><div class="info">
Remplace les espaces par des underscore dans s<br>
</div>
<pre><span id="TYPEtable"><span class="keyword">type</span> <code class="type"></code>table</span> = <code class="type">string * (string * string) list</code> </pre>
<div class="info">
Type d'une table<br>
</div>

<pre><span id="VALtable_string_of_table"><span class="keyword">val</span> <a href="code_VALJson_to_sql.table_string_of_table.html">table_string_of_table</a></span> : <code class="type">string * (string * string) list -> string</code></pre><div class="info">
Fonction transformant le type table en une string sql<br>
</div>
<pre><span id="VALnommer"><span class="keyword">val</span> <a href="code_VALJson_to_sql.nommer.html">nommer</a></span> : <code class="type">string * int -> string</code></pre><div class="info">
Fonction pour nommer les tables<br>
</div>
<pre><span id="VALsql_type_of_simple_jvalue_type"><span class="keyword">val</span> <a href="code_VALJson_to_sql.sql_type_of_simple_jvalue_type.html">sql_type_of_simple_jvalue_type</a></span> : <code class="type"><a href="Infer_type.html#TYPEjvalue_type">Infer_type.jvalue_type</a> -> string</code></pre><div class="info">
Fonction pour donner les types sql à partir d'un json_type<br>
</div>
<pre><span id="VALtable_of_jobject_type"><span class="keyword">val</span> <a href="code_VALJson_to_sql.table_of_jobject_type.html">table_of_jobject_type</a></span> : <code class="type">Infer_type.StringMap.key -><br>       <a href="Infer_type.html#TYPEjvalue_type">Infer_type.jvalue_type</a> Infer_type.StringMap.t -><br>       int Infer_type.StringMap.t *<br>       (Infer_type.StringMap.key * int) JsonTypeMap.t -><br>       Infer_type.StringMap.key -><br>       (Infer_type.StringMap.key * (Infer_type.StringMap.key * string) list) *<br>       (int Infer_type.StringMap.t *<br>        (Infer_type.StringMap.key * int) JsonTypeMap.t)</code></pre><div class="info">
Produit une table à partir d'un jobject_type<br>
</div>
<pre><span id="VALtable_of_jarray_type"><span class="keyword">val</span> <a href="code_VALJson_to_sql.table_of_jarray_type.html">table_of_jarray_type</a></span> : <code class="type">Infer_type.StringMap.key -><br>       <a href="Infer_type.html#TYPEjarray_type">Infer_type.jarray_type</a> -><br>       int Infer_type.StringMap.t *<br>       (Infer_type.StringMap.key * int) JsonTypeMap.t -><br>       Infer_type.StringMap.key -><br>       (Infer_type.StringMap.key * (Infer_type.StringMap.key * string) list) *<br>       (int Infer_type.StringMap.t *<br>        (Infer_type.StringMap.key * int) JsonTypeMap.t)</code></pre><div class="info">
Produit une table à partir d'un jarray_type<br>
</div>
<pre><span id="VALtable_of_jvalue_type"><span class="keyword">val</span> <a href="code_VALJson_to_sql.table_of_jvalue_type.html">table_of_jvalue_type</a></span> : <code class="type">Infer_type.StringMap.key -><br>       JsonTypeMap.key -><br>       int Infer_type.StringMap.t *<br>       (Infer_type.StringMap.key * int) JsonTypeMap.t -><br>       Infer_type.StringMap.key -><br>       (Infer_type.StringMap.key * (Infer_type.StringMap.key * string) list) *<br>       (int Infer_type.StringMap.t *<br>        (Infer_type.StringMap.key * int) JsonTypeMap.t)</code></pre><div class="info">
Produit une table à partir d'un jvalue_type<br>
</div>
<pre><span id="VALfind_table_of_type"><span class="keyword">val</span> <a href="code_VALJson_to_sql.find_table_of_type.html">find_table_of_type</a></span> : <code class="type">Infer_type.StringMap.key -><br>       JsonTypeMap.key -><br>       int Infer_type.StringMap.t *<br>       (Infer_type.StringMap.key * int) JsonTypeMap.t -><br>       Infer_type.StringMap.key *<br>       (int Infer_type.StringMap.t *<br>        (Infer_type.StringMap.key * int) JsonTypeMap.t)</code></pre><div class="info">
Trouve une table correspondant au type demandé ou la crée et l'ajout dans l'association<br>
</div>
<pre><span id="VALstring_of_associationTypeTable"><span class="keyword">val</span> <a href="code_VALJson_to_sql.string_of_associationTypeTable.html">string_of_associationTypeTable</a></span> : <code class="type">'a * (string * int) JsonTypeMap.t -> string</code></pre><div class="info">
Génére une string à partir de l'associationTypeTable<br>
</div>
<pre><span id="EXCEPTIONLe_type_n_est_pas_plus_general_que_la_valeur"><span class="keyword">exception</span> Le_type_n_est_pas_plus_general_que_la_valeur</span></pre>
<div class="info">
Exception qui est levée si le type ne correpond pas à la valeur (ne devrait pas arriver)<br>
</div>
<pre><span id="VALsimple_sql_string_of_jvalue"><span class="keyword">val</span> <a href="code_VALJson_to_sql.simple_sql_string_of_jvalue.html">simple_sql_string_of_jvalue</a></span> : <code class="type"><a href="Type.html#TYPEjvalue">Type.jvalue</a> -> string</code></pre><div class="info">
Transforme une jvalue en valeur sql dans les cas simples<br>
</div>
<pre><span id="VALstring_of_insert"><span class="keyword">val</span> <a href="code_VALJson_to_sql.string_of_insert.html">string_of_insert</a></span> : <code class="type">string -> int -> string list -> string list -> string</code></pre><div class="info">
Prends quelques paramètres et renvoie une string sql d'insertion<br>
</div>
<pre><span id="VALinsert_sql_string_of_jvalue"><span class="keyword">val</span> <a href="code_VALJson_to_sql.insert_sql_string_of_jvalue.html">insert_sql_string_of_jvalue</a></span> : <code class="type"><a href="Type.html#TYPEjvalue">Type.jvalue</a> -><br>       JsonTypeMap.key -><br>       int Infer_type.StringMap.t *<br>       (Infer_type.StringMap.key * int) JsonTypeMap.t -><br>       int -><br>       Infer_type.StringMap.key -><br>       bool -><br>       string * int *<br>       (int Infer_type.StringMap.t *<br>        (Infer_type.StringMap.key * int) JsonTypeMap.t)</code></pre><div class="info">
Prend une jvalue, un jvalue_type et quelques autres informations et affiche les strings sql d'insertion et les create table (via find_table_of_type)<br>
</div>
<pre><span id="VALinsert_sql_string_of_jobject"><span class="keyword">val</span> <a href="code_VALJson_to_sql.insert_sql_string_of_jobject.html">insert_sql_string_of_jobject</a></span> : <code class="type"><a href="Type.html#TYPEjobject">Type.jobject</a> -><br>       <a href="Infer_type.html#TYPEjobject_type">Infer_type.jobject_type</a> -><br>       int Infer_type.StringMap.t *<br>       (Infer_type.StringMap.key * int) JsonTypeMap.t -><br>       int -><br>       Infer_type.StringMap.key -><br>       string * int *<br>       (int Infer_type.StringMap.t *<br>        (Infer_type.StringMap.key * int) JsonTypeMap.t)</code></pre><div class="info">
Prend un jobject, un jobject_type et quelques autres informations et affiche les strings sql d'insertion et les create table (via find_table_of_type)<br>
</div>
<pre><span id="VALinsert_sql_string_of_jarray"><span class="keyword">val</span> <a href="code_VALJson_to_sql.insert_sql_string_of_jarray.html">insert_sql_string_of_jarray</a></span> : <code class="type"><a href="Type.html#TYPEjarray">Type.jarray</a> -><br>       <a href="Infer_type.html#TYPEjarray_type">Infer_type.jarray_type</a> -><br>       int Infer_type.StringMap.t *<br>       (Infer_type.StringMap.key * int) JsonTypeMap.t -><br>       int -><br>       Infer_type.StringMap.key -><br>       bool -><br>       string * int *<br>       (int Infer_type.StringMap.t *<br>        (Infer_type.StringMap.key * int) JsonTypeMap.t) *<br>       int</code></pre><div class="info">
Prend un jarray, un jarray_type et quelques autres informations et affiche les strings sql d'insertion et les create table (via find_table_of_type)<br>
</div>
<pre><span id="VALinsert_value"><span class="keyword">val</span> <a href="code_VALJson_to_sql.insert_value.html">insert_value</a></span> : <code class="type"><a href="Type.html#TYPEjvalue">Type.jvalue</a> -> JsonTypeMap.key -> unit</code></pre><div class="info">
Prend un jvalue et un jvalue_type et affiche les strings sql d'insertion et les create table (via find_table_of_type)<br>
</div>
<pre><span id="VALv"><span class="keyword">val</span> <a href="code_VALJson_to_sql.v.html">v</a></span> : <code class="type"><a href="Type.html#TYPEjvalue">Type.jvalue</a></code></pre><pre><span id="VALt"><span class="keyword">val</span> <a href="code_VALJson_to_sql.t.html">t</a></span> : <code class="type"><a href="Infer_type.html#TYPEjvalue_type">Infer_type.jvalue_type</a></code></pre></body></html>